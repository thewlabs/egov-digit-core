!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("react/jsx-runtime"),require("react"),require("@rjsf/utils"),require("lodash-es/get"),require("lodash-es/isEmpty"),require("lodash-es/pick"),require("lodash-es/toPath"),require("lodash-es/cloneDeep"),require("lodash-es/isObject"),require("lodash-es/set"),require("nanoid"),require("lodash-es/omit"),require("lodash-es/unset"),require("markdown-to-jsx"),require("lodash-es/has")):"function"==typeof define&&define.amd?define(["exports","react/jsx-runtime","react","@rjsf/utils","lodash-es/get","lodash-es/isEmpty","lodash-es/pick","lodash-es/toPath","lodash-es/cloneDeep","lodash-es/isObject","lodash-es/set","nanoid","lodash-es/omit","lodash-es/unset","markdown-to-jsx","lodash-es/has"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self).JSONSchemaForm={},e.jsxRuntime,e.React,e.utils,e.get,e.isEmpty,e._pick,e._toPath,e.cloneDeep,e.isObject,e.set,e.nanoid,e.omit,e.unset,e.Markdown,e.has)}(this,(function(e,r,t,a,i,n,o,s,l,d,u,c,m,p,h,f){"use strict";function g(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var v=g(i),y=g(n),S=g(o),b=g(s),x=g(l),C=g(d),j=g(u),F=g(m),O=g(p),D=g(h),T=g(f);function E(){return E=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},E.apply(this,arguments)}function I(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,N(e,r)}function N(e,r){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},N(e,r)}function k(e,r){if(null==e)return{};var t,a,i={},n=Object.keys(e);for(a=0;a<n.length;a++)r.indexOf(t=n[a])>=0||(i[t]=e[t]);return i}var w=["widget","title"],A=["widget","title"],B=["widget","title"];function U(){return c.nanoid()}function _(e){return Array.isArray(e)?e.map((function(e){return{key:U(),item:e}})):[]}function P(e){return Array.isArray(e)?e.map((function(e){return e.item})):[]}var q=function(e){function t(r){var t;(t=e.call(this,r)||this)._getNewFormDataRow=function(){var e=t.props,r=e.schema,i=e.registry.schemaUtils,n=r.items;return a.isFixedItems(r)&&a.allowAdditionalItems(r)&&(n=r.additionalItems),i.getDefaultFormState(n)},t.onAddClick=function(e){t._handleAddClick(e)},t.onAddIndexClick=function(e){return function(r){t._handleAddClick(r,e)}},t.onCopyIndexClick=function(e){return function(r){r&&r.preventDefault();var a=t.props.onChange,i=t.state.keyedFormData,n={key:U(),item:x.default(i[e].item)},o=[].concat(i);void 0!==e?o.splice(e+1,0,n):o.push(n),t.setState({keyedFormData:o,updatedKeyedFormData:!0},(function(){return a(P(o))}))}},t.onDropIndexClick=function(e){return function(r){r&&r.preventDefault();var a,i=t.props,n=i.onChange,o=i.errorSchema,s=t.state.keyedFormData;if(o)for(var l in a={},o){var d=parseInt(l);d<e?j.default(a,[d],o[l]):d>e&&j.default(a,[d-1],o[l])}var u=s.filter((function(r,t){return t!==e}));t.setState({keyedFormData:u,updatedKeyedFormData:!0},(function(){return n(P(u),a)}))}},t.onReorderClick=function(e,r){return function(a){a&&(a.preventDefault(),a.currentTarget.blur());var i,n=t.props,o=n.onChange,s=n.errorSchema;if(s)for(var l in i={},s){var d=parseInt(l);d==e?j.default(i,[r],s[e]):d==r?j.default(i,[e],s[r]):j.default(i,[l],s[d])}var u,c=t.state.keyedFormData,m=((u=c.slice()).splice(e,1),u.splice(r,0,c[e]),u);t.setState({keyedFormData:m},(function(){return o(P(m),i)}))}},t.onChangeForIndex=function(e){return function(r,a,i){var n,o=t.props,s=o.formData,l=o.errorSchema;(0,o.onChange)((Array.isArray(s)?s:[]).map((function(t,a){return e===a?void 0===r?null:r:t})),l&&l&&E({},l,((n={})[e]=a,n)),i)}},t.onSelectChange=function(e){var r=t.props,a=r.idSchema;(0,r.onChange)(e,void 0,a&&a.$id)};var i=r.formData,n=_(void 0===i?[]:i);return t.state={keyedFormData:n,updatedKeyedFormData:!1},t}I(t,e),t.getDerivedStateFromProps=function(e,r){if(r.updatedKeyedFormData)return{updatedKeyedFormData:!1};var t=Array.isArray(e.formData)?e.formData:[],a=r.keyedFormData||[];return{keyedFormData:t.length===a.length?a.map((function(e,r){return{key:e.key,item:t[r]}})):_(t)}};var i,n,o=t.prototype;return o.isItemRequired=function(e){return Array.isArray(e.type)?!e.type.includes("null"):"null"!==e.type},o.canAddItem=function(e){var r=this.props,t=r.schema,i=a.getUiOptions(r.uiSchema,r.registry.globalUiOptions).addable;return!1!==i&&(i=void 0===t.maxItems||e.length<t.maxItems),i},o._handleAddClick=function(e,r){e&&e.preventDefault();var t=this.props.onChange,a=this.state.keyedFormData,i={key:U(),item:this._getNewFormDataRow()},n=[].concat(a);void 0!==r?n.splice(r,0,i):n.push(i),this.setState({keyedFormData:n,updatedKeyedFormData:!0},(function(){return t(P(n))}))},o.render=function(){var e=this.props,t=e.schema,i=e.uiSchema,n=e.idSchema,o=e.registry,s=o.schemaUtils,l=o.translateString;if(!(a.ITEMS_KEY in t)){var d=a.getUiOptions(i),u=a.getTemplate("UnsupportedFieldTemplate",o,d);return r.jsx(u,{schema:t,idSchema:n,reason:l(a.TranslatableString.MissingItems),registry:o})}return s.isMultiSelect(t)?this.renderMultiSelect():a.isCustomWidget(i)?this.renderCustomWidget():a.isFixedItems(t)?this.renderFixedArray():s.isFilesArray(t,i)?this.renderFiles():this.renderNormalArray()},o.renderNormalArray=function(){var e=this,t=this.props,i=t.schema,n=t.uiSchema,o=void 0===n?{}:n,s=t.errorSchema,l=t.idSchema,d=t.name,u=t.disabled,c=void 0!==u&&u,m=t.readonly,p=void 0!==m&&m,h=t.autofocus,f=void 0!==h&&h,g=t.required,v=void 0!==g&&g,y=t.registry,S=t.onBlur,b=t.onFocus,x=t.idPrefix,j=t.idSeparator,F=void 0===j?"_":j,O=t.rawErrors,D=this.state.keyedFormData,T=void 0===i.title?d:i.title,I=y.schemaUtils,N=y.formContext,k=a.getUiOptions(o),w=C.default(i.items)?i.items:{},A=I.retrieveSchema(w),B=P(this.state.keyedFormData),U=this.canAddItem(B),_={canAdd:U,items:D.map((function(r,t){var a=r.key,i=r.item,n=I.retrieveSchema(w,i),u=s?s[t]:void 0,c=I.toIdSchema(n,l.$id+F+t,i,x,F);return e.renderArrayFieldItem({key:a,index:t,name:d&&d+"-"+t,canAdd:U,canMoveUp:t>0,canMoveDown:t<B.length-1,itemSchema:n,itemIdSchema:c,itemErrorSchema:u,itemData:i,itemUiSchema:o.items,autofocus:f&&0===t,onBlur:S,onFocus:b,rawErrors:O,totalItems:D.length})})),className:"field field-array field-array-of-"+A.type,disabled:c,idSchema:l,uiSchema:o,onAddClick:this.onAddClick,readonly:p,required:v,schema:i,title:T,formContext:N,formData:B,rawErrors:O,registry:y},q=a.getTemplate("ArrayFieldTemplate",y,k);return r.jsx(q,E({},_))},o.renderCustomWidget=function(){var e,t=this.props,i=t.schema,n=t.idSchema,o=t.uiSchema,s=t.disabled,l=void 0!==s&&s,d=t.readonly,u=void 0!==d&&d,c=t.autofocus,m=void 0!==c&&c,p=t.required,h=void 0!==p&&p,f=t.hideError,g=t.placeholder,v=t.onBlur,y=t.onFocus,S=t.formData,b=void 0===S?[]:S,x=t.registry,C=t.rawErrors,j=t.name,F=x.widgets,O=x.formContext,D=x.globalUiOptions,T=x.schemaUtils,E=a.getUiOptions(o,D),I=E.widget,N=E.title,A=k(E,w),B=a.getWidget(i,I,F),U=null!=(e=null!=N?N:i.title)?e:j,_=T.getDisplayLabel(i,o,D);return r.jsx(B,{id:n.$id,name:j,multiple:!0,onChange:this.onSelectChange,onBlur:v,onFocus:y,options:A,schema:i,uiSchema:o,registry:x,value:b,disabled:l,readonly:u,hideError:f,required:h,label:U,hideLabel:!_,placeholder:g,formContext:O,autofocus:m,rawErrors:C})},o.renderMultiSelect=function(){var e,t=this.props,i=t.schema,n=t.idSchema,o=t.uiSchema,s=t.formData,l=void 0===s?[]:s,d=t.disabled,u=void 0!==d&&d,c=t.readonly,m=void 0!==c&&c,p=t.autofocus,h=void 0!==p&&p,f=t.required,g=void 0!==f&&f,v=t.placeholder,y=t.onBlur,S=t.onFocus,b=t.registry,x=t.rawErrors,C=t.name,j=b.widgets,F=b.schemaUtils,O=b.formContext,D=b.globalUiOptions,T=F.retrieveSchema(i.items,l),I=a.optionsList(T),N=a.getUiOptions(o,D),w=N.widget,B=void 0===w?"select":w,U=N.title,_=k(N,A),P=a.getWidget(i,B,j),q=null!=(e=null!=U?U:i.title)?e:C,R=F.getDisplayLabel(i,o,D);return r.jsx(P,{id:n.$id,name:C,multiple:!0,onChange:this.onSelectChange,onBlur:y,onFocus:S,options:E({},_,{enumOptions:I}),schema:i,uiSchema:o,registry:b,value:l,disabled:u,readonly:m,required:g,label:q,hideLabel:!R,placeholder:v,formContext:O,autofocus:h,rawErrors:x})},o.renderFiles=function(){var e,t=this.props,i=t.schema,n=t.uiSchema,o=t.idSchema,s=t.name,l=t.disabled,d=void 0!==l&&l,u=t.readonly,c=void 0!==u&&u,m=t.autofocus,p=void 0!==m&&m,h=t.required,f=void 0!==h&&h,g=t.onBlur,v=t.onFocus,y=t.registry,S=t.formData,b=void 0===S?[]:S,x=t.rawErrors,C=y.widgets,j=y.formContext,F=y.globalUiOptions,O=y.schemaUtils,D=a.getUiOptions(n,F),T=D.widget,E=void 0===T?"files":T,I=D.title,N=k(D,B),w=a.getWidget(i,E,C),A=null!=(e=null!=I?I:i.title)?e:s,U=O.getDisplayLabel(i,n,F);return r.jsx(w,{options:N,id:o.$id,name:s,multiple:!0,onChange:this.onSelectChange,onBlur:g,onFocus:v,schema:i,uiSchema:n,value:b,disabled:d,readonly:c,required:f,registry:y,formContext:j,autofocus:p,rawErrors:x,label:A,hideLabel:!U})},o.renderFixedArray=function(){var e=this,t=this.props,i=t.schema,n=t.uiSchema,o=void 0===n?{}:n,s=t.formData,l=void 0===s?[]:s,d=t.errorSchema,u=t.idPrefix,c=t.idSeparator,m=void 0===c?"_":c,p=t.idSchema,h=t.name,f=t.disabled,g=void 0!==f&&f,v=t.readonly,y=void 0!==v&&v,S=t.autofocus,b=void 0!==S&&S,x=t.required,j=void 0!==x&&x,F=t.registry,O=t.onBlur,D=t.onFocus,T=t.rawErrors,I=this.state.keyedFormData,N=this.props.formData,k=void 0===N?[]:N,w=i.title||h,A=a.getUiOptions(o),B=F.schemaUtils,U=F.formContext,_=(C.default(i.items)?i.items:[]).map((function(e,r){return B.retrieveSchema(e,l[r])})),P=C.default(i.additionalItems)?B.retrieveSchema(i.additionalItems,l):null;(!k||k.length<_.length)&&(k=(k=k||[]).concat(new Array(_.length-k.length)));var q=this.canAddItem(k)&&!!P,R={canAdd:q,className:"field field-array field-array-fixed-items",disabled:g,idSchema:p,formData:l,items:I.map((function(r,t){var a=r.key,n=r.item,s=t>=_.length,l=s&&C.default(i.additionalItems)?B.retrieveSchema(i.additionalItems,n):_[t],c=B.toIdSchema(l,p.$id+m+t,n,u,m),f=s?o.additionalItems||{}:Array.isArray(o.items)?o.items[t]:o.items||{};return e.renderArrayFieldItem({key:a,index:t,name:h&&h+"-"+t,canAdd:q,canRemove:s,canMoveUp:t>=_.length+1,canMoveDown:s&&t<k.length-1,itemSchema:l,itemData:n,itemUiSchema:f,itemIdSchema:c,itemErrorSchema:d?d[t]:void 0,autofocus:b&&0===t,onBlur:O,onFocus:D,rawErrors:T,totalItems:I.length})})),onAddClick:this.onAddClick,readonly:y,required:j,registry:F,schema:i,uiSchema:o,title:w,formContext:U,rawErrors:T},L=a.getTemplate("ArrayFieldTemplate",F,A);return r.jsx(L,E({},R))},o.renderArrayFieldItem=function(e){var t=e.key,i=e.index,n=e.name,o=e.canAdd,s=e.canRemove,l=void 0===s||s,d=e.canMoveUp,u=e.canMoveDown,c=e.itemSchema,m=e.itemData,p=e.itemUiSchema,h=e.itemIdSchema,f=e.itemErrorSchema,g=e.autofocus,v=e.onBlur,y=e.onFocus,S=e.rawErrors,b=e.totalItems,x=this.props,C=x.disabled,j=x.hideError,F=x.idPrefix,O=x.idSeparator,D=x.readonly,T=x.registry,E=x.formContext,I=T.fields,N=I.ArraySchemaField||I.SchemaField,k=a.getUiOptions(x.uiSchema,T.globalUiOptions),w=k.orderable,A=void 0===w||w,B=k.removable,U=k.copyable,_={moveUp:A&&d,moveDown:A&&u,copy:void 0!==U&&U&&o,remove:(void 0===B||B)&&l,toolbar:!1};return _.toolbar=Object.keys(_).some((function(e){return _[e]})),{children:r.jsx(N,{name:n,index:i,schema:c,uiSchema:p,formData:m,formContext:E,errorSchema:f,idPrefix:F,idSeparator:O,idSchema:h,required:this.isItemRequired(c),onChange:this.onChangeForIndex(i),onBlur:v,onFocus:y,registry:T,disabled:C,readonly:D,hideError:j,autofocus:g,rawErrors:S}),className:"array-item",disabled:C,canAdd:o,hasCopy:_.copy,hasToolbar:_.toolbar,hasMoveUp:_.moveUp,hasMoveDown:_.moveDown,hasRemove:_.remove,index:i,totalItems:b,key:t,onAddIndexClick:this.onAddIndexClick,onCopyIndexClick:this.onCopyIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:D,registry:T,schema:c,uiSchema:p}},i=t,(n=[{key:"itemTitle",get:function(){var e=this.props,r=e.schema;return v.default(r,[a.ITEMS_KEY,"title"],v.default(r,[a.ITEMS_KEY,"description"],(0,e.registry.translateString)(a.TranslatableString.ArrayItemTitle)))}}])&&function(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,"symbol"==typeof(i=function(e,r){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a.key))?i:String(i),a)}var i}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),t}(t.Component),R=["widget","title","label"];function L(e){var t,i,n=e.schema,o=e.name,s=e.uiSchema,l=e.idSchema,d=e.formData,u=e.registry,c=e.required,m=e.disabled,p=e.readonly,h=e.autofocus,f=e.onChange,g=e.onFocus,v=e.onBlur,y=e.rawErrors,S=n.title,b=u.widgets,x=u.formContext,j=u.translateString,F=a.getUiOptions(s,u.globalUiOptions),O=F.widget,D=void 0===O?"checkbox":O,T=F.title,I=F.label,N=void 0===I||I,w=k(F,R),A=a.getWidget(n,D,b),B=j(a.TranslatableString.YesLabel),U=j(a.TranslatableString.NoLabel),_=null!=(t=null!=T?T:S)?t:o;if(Array.isArray(n.oneOf))i=a.optionsList({oneOf:n.oneOf.map((function(e){if(C.default(e))return E({},e,{title:e.title||(!0===e.const?B:U)})})).filter((function(e){return e}))});else{var P,q=n,L=null!=(P=n.enum)?P:[!0,!1];i=!q.enumNames&&2===L.length&&L.every((function(e){return"boolean"==typeof e}))?[{value:L[0],label:L[0]?B:U},{value:L[1],label:L[1]?B:U}]:a.optionsList({enum:L,enumNames:q.enumNames})}return r.jsx(A,{options:E({},w,{enumOptions:i}),schema:n,uiSchema:s,id:l.$id,name:o,onChange:f,onFocus:g,onBlur:v,label:_,hideLabel:!N,value:d,required:c,disabled:m,readonly:p,registry:u,formContext:x,autofocus:h,rawErrors:y})}var V=["widget","placeholder","autofocus","autocomplete","title"],K=["oneOf","anyOf"],M=function(e){function t(r){var t;(t=e.call(this,r)||this).onOptionChange=function(e){var r=t.state,a=r.selectedOption,i=r.retrievedOptions,n=t.props,o=n.formData,s=n.onChange,l=n.registry.schemaUtils,d=void 0!==e?parseInt(e,10):-1;if(d!==a){var u=d>=0?i[d]:void 0,c=l.sanitizeDataForNewSchema(u,a>=0?i[a]:void 0,o);c&&u&&(c=l.getDefaultFormState(u,c,"excludeObjectChildren")),s(c,void 0,t.getFieldId()),t.setState({selectedOption:d})}};var a=t.props,i=a.formData,n=a.registry.schemaUtils,o=a.options.map((function(e){return n.retrieveSchema(e,i)}));return t.state={retrievedOptions:o,selectedOption:t.getMatchingOption(0,i,o)},t}I(t,e);var i=t.prototype;return i.componentDidUpdate=function(e,r){var t=this.props,i=t.formData,n=t.options,o=t.idSchema,s=this.state.selectedOption,l=this.state;if(!a.deepEquals(e.options,n)){var d=this.props.registry.schemaUtils;l={selectedOption:s,retrievedOptions:n.map((function(e){return d.retrieveSchema(e,i)}))}}if(!a.deepEquals(i,e.formData)&&o.$id===e.idSchema.$id){var u=l.retrievedOptions,c=this.getMatchingOption(s,i,u);r&&c!==s&&(l={selectedOption:c,retrievedOptions:u})}l!==this.state&&this.setState(l)},i.getMatchingOption=function(e,r,t){var i=this.props,n=i.registry.schemaUtils,o=a.getDiscriminatorFieldFromSchema(i.schema);return n.getClosestMatchingOption(r,t,e,o)},i.getFieldId=function(){var e=this.props;return e.idSchema.$id+(e.schema.oneOf?"__oneof_select":"__anyof_select")},i.render=function(){var e,t=this.props,i=t.name,n=t.disabled,o=void 0!==n&&n,s=t.errorSchema,l=void 0===s?{}:s,d=t.formContext,u=t.onBlur,c=t.onFocus,m=t.registry,p=t.schema,h=t.uiSchema,f=m.widgets,g=m.translateString,S=m.globalUiOptions,b=m.schemaUtils,x=m.fields.SchemaField,C=this.state,j=C.selectedOption,D=C.retrievedOptions,T=a.getUiOptions(h,S),I=T.widget,N=void 0===I?"select":I,w=T.placeholder,A=T.autofocus,B=T.autocomplete,U=T.title,_=void 0===U?p.title:U,P=k(T,V),q=a.getWidget({type:"number"},N,f),R=v.default(l,a.ERRORS_KEY,[]),L=F.default(l,[a.ERRORS_KEY]),M=b.getDisplayLabel(p,h,S),W=j>=0&&D[j]||null;if(W){var Y=k(p,K);O.default(Y,a.ADDITIONAL_PROPERTY_FLAG),e=y.default(Y)?W:E({},Y,W)}var $=_?a.TranslatableString.TitleOptionPrefix:a.TranslatableString.OptionPrefix,z=_?[_]:[],G=D.map((function(e,r){return{label:e.title||g($,z.concat(String(r+1))),value:r}}));return r.jsxs("div",{className:"panel panel-default panel-body",children:[r.jsx("div",{className:"form-group",children:r.jsx(q,{id:this.getFieldId(),name:i+(p.oneOf?"__oneof_select":"__anyof_select"),schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:u,onFocus:c,disabled:o||y.default(G),multiple:!1,rawErrors:R,errorSchema:L,value:j>=0?j:void 0,options:E({enumOptions:G},P),registry:m,formContext:d,placeholder:w,autocomplete:B,autofocus:A,label:null!=_?_:i,hideLabel:!M})}),null!==W&&r.jsx(x,E({},this.props,{schema:e}))]})},t}(t.Component),W=/\.([0-9]*0)*$/,Y=/[0.]0*$/;function $(e){var i=e.registry,n=e.onChange,o=e.formData,s=t.useState(e.value),l=s[0],d=s[1],u=i.fields.StringField,c=o,m=t.useCallback((function(e){d(e),"."===(""+e).charAt(0)&&(e="0"+e);var r="string"==typeof e&&e.match(W)?a.asNumber(e.replace(Y,"")):a.asNumber(e);n(r)}),[n]);if("string"==typeof l&&"number"==typeof c){var p=new RegExp((""+c).replace(".","\\.")+"\\.?0*$");l.match(p)&&(c=l)}return r.jsx(u,E({},e,{formData:c,onChange:m}))}var z=function(e){function t(){for(var r,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return(r=e.call.apply(e,[this].concat(i))||this).state={wasPropertyKeyModified:!1,additionalProperties:{}},r.onPropertyChange=function(e,t){return void 0===t&&(t=!1),function(a,i,n){var o,s,l=r.props,d=l.errorSchema;void 0===a&&t&&(a=""),(0,l.onChange)(E({},l.formData,((o={})[e]=a,o)),d&&d&&E({},d,((s={})[e]=i,s)),n)}},r.onDropPropertyClick=function(e){return function(t){t.preventDefault();var a=r.props,i=a.onChange,n=E({},a.formData);O.default(n,e),i(n)}},r.getAvailableKey=function(e,t){for(var i=r.props,n=a.getUiOptions(i.uiSchema,i.registry.globalUiOptions).duplicateKeySuffixSeparator,o=void 0===n?"-":n,s=0,l=e;T.default(t,l);)l=""+e+o+ ++s;return l},r.onKeyChange=function(e){return function(t,a){var i,n;if(e!==t){var o=r.props,s=o.formData,l=o.onChange,d=o.errorSchema;t=r.getAvailableKey(t,s);var u=E({},s),c=((i={})[e]=t,i),m=Object.keys(u).map((function(e){var r;return(r={})[c[e]||e]=u[e],r})),p=Object.assign.apply(Object,[{}].concat(m));r.setState({wasPropertyKeyModified:!0}),l(p,d&&d&&E({},d,((n={})[t]=a,n)))}}},r.handleAddClick=function(e){return function(){if(e.additionalProperties){var t=r.props,i=t.formData,n=t.onChange,o=t.registry,s=E({},i),l=void 0;if(C.default(e.additionalProperties)){l=e.additionalProperties.type;var d=e.additionalProperties;a.REF_KEY in d&&(l=(d=o.schemaUtils.retrieveSchema({$ref:d[a.REF_KEY]},i)).type),l||!(a.ANY_OF_KEY in d)&&!(a.ONE_OF_KEY in d)||(l="object")}var u=r.getAvailableKey("newKey",s);j.default(s,u,r.getDefaultValue(l)),n(s)}}},r}I(t,e);var i=t.prototype;return i.isRequired=function(e){var r=this.props.schema;return Array.isArray(r.required)&&-1!==r.required.indexOf(e)},i.getDefaultValue=function(e){var r=this.props.registry.translateString;switch(e){case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};default:return r(a.TranslatableString.NewStringDefault)}},i.render=function(){var e,t,i,n,o=this,s=this.props,l=s.uiSchema,d=void 0===l?{}:l,u=s.formData,c=s.errorSchema,m=s.idSchema,p=s.name,h=s.required,f=void 0!==h&&h,g=s.disabled,y=void 0!==g&&g,S=s.readonly,b=void 0!==S&&S,x=s.hideError,C=s.idPrefix,j=s.idSeparator,F=s.onBlur,O=s.onFocus,I=s.registry,N=I.formContext,k=I.translateString,w=I.globalUiOptions,A=I.fields.SchemaField,B=I.schemaUtils.retrieveSchema(s.schema,u),U=a.getUiOptions(d,w),_=B.properties,P=void 0===_?{}:_,q=null!=(e=null!=(t=U.title)?t:B.title)?e:p,R=null!=(i=U.description)?i:B.description;try{var L=Object.keys(P);n=a.orderProperties(L,U.order)}catch(e){return r.jsxs("div",{children:[r.jsx("p",{className:"config-error",style:{color:"red"},children:r.jsx(D.default,{children:k(a.TranslatableString.InvalidObjectField,[p||"root",e.message])})}),r.jsx("pre",{children:JSON.stringify(B)})]})}var V=a.getTemplate("ObjectFieldTemplate",I,U),K={title:!1===U.label?"":q,description:!1===U.label?void 0:R,properties:n.map((function(e){var t=T.default(B,[a.PROPERTIES_KEY,e,a.ADDITIONAL_PROPERTY_FLAG]),i=t?d.additionalProperties:d[e],n="hidden"===a.getUiOptions(i).widget,s=v.default(m,[e],{});return{content:r.jsx(A,{name:e,required:o.isRequired(e),schema:v.default(B,[a.PROPERTIES_KEY,e],{}),uiSchema:i,errorSchema:v.default(c,e),idSchema:s,idPrefix:C,idSeparator:j,formData:v.default(u,e),formContext:N,wasPropertyKeyModified:o.state.wasPropertyKeyModified,onKeyChange:o.onKeyChange(e),onChange:o.onPropertyChange(e,t),onBlur:F,onFocus:O,registry:I,disabled:y,readonly:b,hideError:x,onDropPropertyClick:o.onDropPropertyClick},e),name:e,readonly:b,disabled:y,required:f,hidden:n}})),readonly:b,disabled:y,required:f,idSchema:m,uiSchema:d,errorSchema:c,schema:B,formData:u,formContext:N,registry:I};return r.jsx(V,E({},K,{onAddClick:this.handleAddClick}))},t}(t.Component),G=["__errors"],J={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function H(e){var i=e.schema,n=e.idSchema,o=e.uiSchema,s=e.formData,l=e.errorSchema,d=e.idPrefix,u=e.idSeparator,c=e.name,m=e.onChange,p=e.onKeyChange,h=e.onDropPropertyClick,f=e.required,g=e.registry,v=e.wasPropertyKeyModified,y=void 0!==v&&v,S=g.formContext,b=g.schemaUtils,x=g.globalUiOptions,j=a.getUiOptions(o,x),O=a.getTemplate("FieldTemplate",g,j),T=a.getTemplate("DescriptionFieldTemplate",g,j),I=a.getTemplate("FieldHelpTemplate",g,j),N=a.getTemplate("FieldErrorTemplate",g,j),w=b.retrieveSchema(i,s),A=n[a.ID_KEY],B=a.mergeObjects(b.toIdSchema(w,A,s,d,u),n),U=t.useCallback((function(e,r,t){return m(e,r,t||A)}),[A,m]),_=function(e,t,i,n){var o=t.field,s=n.fields,l=n.translateString;if("function"==typeof o)return o;if("string"==typeof o&&o in s)return s[o];var d=a.getSchemaType(e),u=Array.isArray(d)?d[0]:d||"",c=e.$id,m=J[u];return c&&c in s&&(m=c),m||!e.anyOf&&!e.oneOf?m in s?s[m]:function(){var o=a.getTemplate("UnsupportedFieldTemplate",n,t);return r.jsx(o,{schema:e,idSchema:i,reason:l(a.TranslatableString.UnknownFieldType,[String(e.type)]),registry:n})}:function(){return null}}(w,j,B,g),P=Boolean(e.disabled||j.disabled),q=Boolean(e.readonly||j.readonly||e.schema.readOnly||w.readOnly),R=j.hideError,L=void 0===R?e.hideError:Boolean(R),V=Boolean(e.autofocus||j.autofocus);if(0===Object.keys(w).length)return null;var K=b.getDisplayLabel(w,o,x),M=l||{},W=M.__errors,Y=k(M,G),$=F.default(o,["ui:classNames","classNames","ui:style"]);a.UI_OPTIONS_KEY in $&&($[a.UI_OPTIONS_KEY]=F.default($[a.UI_OPTIONS_KEY],["classNames","style"]));var z,H=r.jsx(_,E({},e,{onChange:U,idSchema:B,schema:w,uiSchema:$,disabled:P,readonly:q,hideError:L,autofocus:V,errorSchema:Y,formContext:S,rawErrors:W})),Q=B[a.ID_KEY];z=y||a.ADDITIONAL_PROPERTY_FLAG in w?c:j.title||e.schema.title||w.title||c;var X=j.description||e.schema.description||w.description||"",Z=j.enableMarkdownInDescription?r.jsx(D.default,{children:X}):X,ee=j.help,re="hidden"===j.widget,te=["form-group","field","field-"+a.getSchemaType(w)];!L&&W&&W.length>0&&te.push("field-error has-error has-danger"),null!=o&&o.classNames&&te.push(o.classNames),j.classNames&&te.push(j.classNames);var ae=r.jsx(I,{help:ee,idSchema:B,schema:w,uiSchema:o,hasErrors:!L&&W&&W.length>0,registry:g}),ie=L?void 0:r.jsx(N,{errors:W,errorSchema:l,idSchema:B,schema:w,uiSchema:o,registry:g}),ne={description:r.jsx(T,{id:a.descriptionId(Q),description:Z,schema:w,uiSchema:o,registry:g}),rawDescription:X,help:ae,rawHelp:"string"==typeof ee?ee:void 0,errors:ie,rawErrors:L?void 0:W,id:Q,label:z,hidden:re,onChange:m,onKeyChange:p,onDropPropertyClick:h,required:f,disabled:P,readonly:q,hideError:L,displayLabel:K,classNames:te.join(" ").trim(),style:j.style,formContext:S,formData:s,schema:w,uiSchema:o,registry:g},oe=g.fields.AnyOfField,se=g.fields.OneOfField,le=(null==o?void 0:o["ui:field"])&&!0===(null==o?void 0:o["ui:fieldReplacesAnyOrOneOf"]);return r.jsx(O,E({},ne,{children:r.jsxs(r.Fragment,{children:[H,w.anyOf&&!le&&!b.isSelect(w)&&r.jsx(oe,{name:c,disabled:P,readonly:q,hideError:L,errorSchema:l,formData:s,formContext:S,idPrefix:d,idSchema:B,idSeparator:u,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:w.anyOf.map((function(e){return b.retrieveSchema(C.default(e)?e:{},s)})),registry:g,schema:w,uiSchema:o}),w.oneOf&&!le&&!b.isSelect(w)&&r.jsx(se,{name:c,disabled:P,readonly:q,hideError:L,errorSchema:l,formData:s,formContext:S,idPrefix:d,idSchema:B,idSeparator:u,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:w.oneOf.map((function(e){return b.retrieveSchema(C.default(e)?e:{},s)})),registry:g,schema:w,uiSchema:o})]})}))}var Q=function(e){function t(){return e.apply(this,arguments)||this}I(t,e);var i=t.prototype;return i.shouldComponentUpdate=function(e){return!a.deepEquals(this.props,e)},i.render=function(){return r.jsx(H,E({},this.props))},t}(t.Component),X=["widget","placeholder","title"];function Z(e){var t,i=e.schema,n=e.name,o=e.uiSchema,s=e.idSchema,l=e.formData,d=e.required,u=e.disabled,c=void 0!==u&&u,m=e.readonly,p=void 0!==m&&m,h=e.autofocus,f=void 0!==h&&h,g=e.onChange,v=e.onBlur,y=e.onFocus,S=e.registry,b=e.rawErrors,x=i.title,C=i.format,j=S.widgets,F=S.formContext,O=S.schemaUtils,D=S.globalUiOptions,T=O.isSelect(i)?a.optionsList(i):void 0,I=T?"select":"text";C&&a.hasWidget(i,C,j)&&(I=C);var N=a.getUiOptions(o),w=N.widget,A=void 0===w?I:w,B=N.placeholder,U=void 0===B?"":B,_=N.title,P=k(N,X),q=O.getDisplayLabel(i,o,D),R=null!=(t=null!=_?_:x)?t:n,L=a.getWidget(i,A,j);return r.jsx(L,{options:E({},P,{enumOptions:T}),schema:i,uiSchema:o,id:s.$id,name:n,label:R,hideLabel:!q,value:l,onChange:g,onBlur:v,onFocus:y,required:d,disabled:c,readonly:p,formContext:F,autofocus:f,registry:S,placeholder:U,rawErrors:b})}function ee(e){var r=e.formData,a=e.onChange;return t.useEffect((function(){void 0===r&&a(null)}),[r,a]),null}function re(e){var t=e.idSchema,i=e.description,n=e.registry,o=e.schema,s=e.uiSchema,l=a.getUiOptions(s,n.globalUiOptions),d=l.label;if(!i||void 0!==d&&!d)return null;var u=a.getTemplate("DescriptionFieldTemplate",n,l);return r.jsx(u,{id:a.descriptionId(t),description:i,schema:o,uiSchema:s,registry:n})}function te(e){var t=e.disabled,a=e.hasToolbar,i=e.hasMoveDown,n=e.hasMoveUp,o=e.hasRemove,s=e.hasCopy,l=e.index,d=e.onCopyIndexClick,u=e.onDropIndexClick,c=e.onReorderClick,m=e.readonly,p=e.registry,h=e.uiSchema,f=p.templates.ButtonTemplates,g=f.CopyButton,v=f.MoveDownButton,y=f.MoveUpButton,S=f.RemoveButton,b={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return r.jsxs("div",{className:e.className,children:[r.jsx("div",{className:a?"col-xs-9":"col-xs-12",children:e.children}),a&&r.jsx("div",{className:"col-xs-3 array-item-toolbox",children:r.jsxs("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:[(n||i)&&r.jsx(y,{style:b,disabled:t||m||!n,onClick:c(l,l-1),uiSchema:h,registry:p}),(n||i)&&r.jsx(v,{style:b,disabled:t||m||!i,onClick:c(l,l+1),uiSchema:h,registry:p}),s&&r.jsx(g,{style:b,disabled:t||m,onClick:d(l),uiSchema:h,registry:p}),o&&r.jsx(S,{style:b,disabled:t||m,onClick:u(l),uiSchema:h,registry:p})]})})]})}var ae=["key"];function ie(e){var t=e.canAdd,i=e.className,n=e.disabled,o=e.idSchema,s=e.uiSchema,l=e.items,d=e.onAddClick,u=e.readonly,c=e.registry,m=e.required,p=e.schema,h=e.title,f=a.getUiOptions(s),g=a.getTemplate("ArrayFieldDescriptionTemplate",c,f),v=a.getTemplate("ArrayFieldItemTemplate",c,f),y=a.getTemplate("ArrayFieldTitleTemplate",c,f),S=c.templates.ButtonTemplates.AddButton;return r.jsxs("fieldset",{className:i,id:o.$id,children:[r.jsx(y,{idSchema:o,title:f.title||h,required:m,schema:p,uiSchema:s,registry:c}),r.jsx(g,{idSchema:o,description:f.description||p.description,schema:p,uiSchema:s,registry:c}),r.jsx("div",{className:"row array-item-list",children:l&&l.map((function(e){var t=e.key,a=k(e,ae);return r.jsx(v,E({},a),t)}))}),t&&r.jsx(S,{className:"array-item-add",onClick:d,disabled:n||u,uiSchema:s,registry:c})]})}function ne(e){var t=e.idSchema,i=e.title,n=e.schema,o=e.uiSchema,s=e.required,l=e.registry,d=a.getUiOptions(o,l.globalUiOptions),u=d.label;if(!i||void 0!==u&&!u)return null;var c=a.getTemplate("TitleFieldTemplate",l,d);return r.jsx(c,{id:a.titleId(t),title:i,required:s,schema:n,uiSchema:o,registry:l})}var oe=["id","name","value","readonly","disabled","autofocus","onBlur","onFocus","onChange","onChangeOverride","options","schema","uiSchema","formContext","registry","rawErrors","type","hideLabel","hideError"];function se(e){var i=e.id,n=e.value,o=e.readonly,s=e.disabled,l=e.autofocus,d=e.onBlur,u=e.onFocus,c=e.onChange,m=e.onChangeOverride,p=e.options,h=e.schema,f=e.type,g=k(e,oe);if(!i)throw console.log("No id for",e),new Error("no id for props "+JSON.stringify(e));var v,y=E({},g,a.getInputProps(h,f,p));v="number"===y.type||"integer"===y.type?n||0===n?n:"":null==n?"":n;var S=t.useCallback((function(e){var r=e.target.value;return c(""===r?p.emptyValue:r)}),[c,p]),b=t.useCallback((function(e){return d(i,e.target.value)}),[d,i]),x=t.useCallback((function(e){return u(i,e.target.value)}),[u,i]);return r.jsxs(r.Fragment,{children:[r.jsx("input",E({id:i,name:i,className:"form-control",readOnly:o,disabled:s,autoFocus:l,value:v},y,{list:h.examples?a.examplesId(i):void 0,onChange:m||S,onBlur:b,onFocus:x,"aria-describedby":a.ariaDescribedByIds(i,!!h.examples)})),Array.isArray(h.examples)&&r.jsx("datalist",{id:a.examplesId(i),children:h.examples.concat(h.default&&!h.examples.includes(h.default)?[h.default]:[]).map((function(e){return r.jsx("option",{value:e},e)}))},"datalist_"+i)]})}function le(e){var t=a.getSubmitButtonOptions(e.uiSchema),i=t.props,n=void 0===i?{}:i;return t.norender?null:r.jsx("div",{children:r.jsx("button",E({type:"submit"},n,{className:"btn btn-info "+(n.className||""),children:t.submitText}))})}var de=["iconType","icon","className","uiSchema","registry"];function ue(e){var t=e.iconType,a=void 0===t?"default":t,i=e.icon,n=e.className,o=k(e,de);return r.jsx("button",E({type:"button",className:"btn btn-"+a+" "+n},o,{children:r.jsx("i",{className:"glyphicon glyphicon-"+i})}))}function ce(e){return r.jsx(ue,E({title:(0,e.registry.translateString)(a.TranslatableString.CopyButton),className:"array-item-copy"},e,{icon:"copy"}))}function me(e){return r.jsx(ue,E({title:(0,e.registry.translateString)(a.TranslatableString.MoveDownButton),className:"array-item-move-down"},e,{icon:"arrow-down"}))}function pe(e){return r.jsx(ue,E({title:(0,e.registry.translateString)(a.TranslatableString.MoveUpButton),className:"array-item-move-up"},e,{icon:"arrow-up"}))}function he(e){return r.jsx(ue,E({title:(0,e.registry.translateString)(a.TranslatableString.RemoveButton),className:"array-item-remove"},e,{iconType:"danger",icon:"remove"}))}function fe(e){var t=e.onClick,i=e.disabled,n=e.registry;return r.jsx("div",{className:"row",children:r.jsx("p",{className:"col-xs-3 col-xs-offset-9 text-right "+e.className,children:r.jsx(ue,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:(0,n.translateString)(a.TranslatableString.AddButton),onClick:t,disabled:i,registry:n})})})}function ge(e){var t=e.description;return t?r.jsx("string"==typeof t?"p":"div",{id:e.id,className:"field-description",children:t}):null}function ve(e){var t=e.errors;return r.jsxs("div",{className:"panel panel-danger errors",children:[r.jsx("div",{className:"panel-heading",children:r.jsx("h3",{className:"panel-title",children:(0,e.registry.translateString)(a.TranslatableString.ErrorsLabel)})}),r.jsx("ul",{className:"list-group",children:t.map((function(e,t){return r.jsx("li",{className:"list-group-item text-danger",children:e.stack},t)}))})]})}var ye="*";function Se(e){var t=e.label;return t?r.jsxs("label",{className:"control-label",htmlFor:e.id,children:[t,e.required&&r.jsx("span",{className:"required",children:ye})]}):null}function be(e){var t=e.id,i=e.label,n=e.children,o=e.errors,s=e.help,l=e.description,d=e.hidden,u=e.required,c=e.displayLabel,m=e.registry,p=a.getUiOptions(e.uiSchema),h=a.getTemplate("WrapIfAdditionalTemplate",m,p);return d?r.jsx("div",{className:"hidden",children:n}):r.jsxs(h,E({},e,{children:[c&&r.jsx(Se,{label:i,required:u,id:t}),c&&l?l:null,n,o,s]}))}function xe(e){var t=e.errors,i=void 0===t?[]:t;if(0===i.length)return null;var n=a.errorId(e.idSchema);return r.jsx("div",{children:r.jsx("ul",{id:n,className:"error-detail bs-callout bs-callout-info",children:i.filter((function(e){return!!e})).map((function(e,t){return r.jsx("li",{className:"text-danger",children:e},t)}))})})}function Ce(e){var t=e.help;if(!t)return null;var i=a.helpId(e.idSchema);return r.jsx("string"==typeof t?"p":"div",{id:i,className:"help-block",children:t})}function je(e){var t=e.description,i=e.disabled,n=e.formData,o=e.idSchema,s=e.onAddClick,l=e.properties,d=e.readonly,u=e.registry,c=e.required,m=e.schema,p=e.title,h=e.uiSchema,f=a.getUiOptions(h),g=a.getTemplate("TitleFieldTemplate",u,f),v=a.getTemplate("DescriptionFieldTemplate",u,f),y=u.templates.ButtonTemplates.AddButton;return r.jsxs("fieldset",{id:o.$id,children:[p&&r.jsx(g,{id:a.titleId(o),title:p,required:c,schema:m,uiSchema:h,registry:u}),t&&r.jsx(v,{id:a.descriptionId(o),description:t,schema:m,uiSchema:h,registry:u}),l.map((function(e){return e.content})),a.canExpand(m,h,n)&&r.jsx(y,{className:"object-property-expand",onClick:s(m),disabled:i||d,uiSchema:h,registry:u})]})}var Fe="*";function Oe(e){return r.jsxs("legend",{id:e.id,children:[e.title,e.required&&r.jsx("span",{className:"required",children:Fe})]})}function De(e){var t=e.schema,i=e.idSchema,n=e.reason,o=e.registry.translateString,s=a.TranslatableString.UnsupportedField,l=[];return i&&i.$id&&(s=a.TranslatableString.UnsupportedFieldWithId,l.push(i.$id)),n&&(s=s===a.TranslatableString.UnsupportedField?a.TranslatableString.UnsupportedFieldWithReason:a.TranslatableString.UnsupportedFieldWithIdAndReason,l.push(n)),r.jsxs("div",{className:"unsupported-field",children:[r.jsx("p",{children:r.jsx(D.default,{children:o(s,l)})}),t&&r.jsx("pre",{children:JSON.stringify(t,null,2)})]})}function Te(e){var t=e.id,i=e.classNames,n=e.style,o=e.disabled,s=e.label,l=e.onKeyChange,d=e.onDropPropertyClick,u=e.readonly,c=e.required,m=e.schema,p=e.children,h=e.uiSchema,f=e.registry,g=f.templates.ButtonTemplates.RemoveButton,v=(0,f.translateString)(a.TranslatableString.KeyLabel,[s]);return r.jsx("div",a.ADDITIONAL_PROPERTY_FLAG in m?{className:i,style:n,children:r.jsxs("div",{className:"row",children:[r.jsx("div",{className:"col-xs-5 form-additional",children:r.jsxs("div",{className:"form-group",children:[r.jsx(Se,{label:v,required:c,id:t+"-key"}),r.jsx("input",{className:"form-control",type:"text",id:t+"-key",onBlur:function(e){return l(e.target.value)},defaultValue:s})]})}),r.jsx("div",{className:"form-additional form-group col-xs-5",children:p}),r.jsx("div",{className:"col-xs-2",children:r.jsx(g,{className:"array-item-remove btn-block",style:{border:"0"},disabled:o||u,onClick:d(s),uiSchema:h,registry:f})})]})}:{className:i,style:n,children:p})}function Ee(e,r){for(var t=[],i=e;i<=r;i++)t.push({value:i,label:a.pad(i,2)});return t}function Ie(e,r,t){void 0===t&&(t=[1900,(new Date).getFullYear()+2]);var a=[{type:"year",range:t,value:e.year},{type:"month",range:[1,12],value:e.month},{type:"day",range:[1,31],value:e.day}];return r&&a.push({type:"hour",range:[0,23],value:e.hour},{type:"minute",range:[0,59],value:e.minute},{type:"second",range:[0,59],value:e.second}),a}function Ne(e){var t=e.type,i=e.range,n=e.value,o=e.select,s=e.rootId,l=e.disabled,d=e.readonly,u=e.autofocus,c=e.registry,m=e.onBlur,p=e.onFocus;return r.jsx(c.widgets.SelectWidget,{schema:{type:"integer"},id:s+"_"+t,name:e.name,className:"form-control",options:{enumOptions:Ee(i[0],i[1])},placeholder:t,value:n,disabled:l,readonly:d,autofocus:u,onChange:function(e){return o(t,e)},onBlur:m,onFocus:p,registry:c,label:"","aria-describedby":a.ariaDescribedByIds(s)})}function ke(e){var i=e.time,n=void 0!==i&&i,o=e.disabled,s=void 0!==o&&o,l=e.readonly,d=void 0!==l&&l,u=e.autofocus,c=void 0!==u&&u,m=e.options,p=e.id,h=e.name,f=e.registry,g=e.onBlur,v=e.onFocus,y=e.onChange,S=e.value,b=f.translateString,x=t.useState(S),C=x[0],j=x[1],F=t.useReducer((function(e,r){return E({},e,r)}),a.parseDateString(S,n)),O=F[0],D=F[1];t.useEffect((function(){var e=a.toDateString(O,n);!function(e){return Object.values(e).every((function(e){return-1!==e}))}(O)||e===S?C!==S&&(j(S),D(a.parseDateString(S,n))):y(e)}),[n,S,y,O,C]);var T=t.useCallback((function(e,r){var t;D(((t={})[e]=r,t))}),[]),I=t.useCallback((function(e){if(e.preventDefault(),!s&&!d){var r=a.parseDateString((new Date).toJSON(),n);y(a.toDateString(r,n))}}),[s,d,n]),N=t.useCallback((function(e){e.preventDefault(),s||d||y(void 0)}),[s,d,y]);return r.jsxs("ul",{className:"list-inline",children:[Ie(O,n,m.yearsRange).map((function(e,t){return r.jsx("li",{className:"list-inline-item",children:r.jsx(Ne,E({rootId:p,name:h,select:T},e,{disabled:s,readonly:d,registry:f,onBlur:g,onFocus:v,autofocus:c&&0===t}))},t)})),("undefined"===m.hideNowButton||!m.hideNowButton)&&r.jsx("li",{className:"list-inline-item",children:r.jsx("a",{href:"#",className:"btn btn-info btn-now",onClick:I,children:b(a.TranslatableString.NowLabel)})}),("undefined"===m.hideClearButton||!m.hideClearButton)&&r.jsx("li",{className:"list-inline-item",children:r.jsx("a",{href:"#",className:"btn btn-warning btn-clear",onClick:N,children:b(a.TranslatableString.ClearLabel)})})]})}var we=["time"];function Ae(e){var t=e.time,a=void 0===t||t,i=k(e,we);return r.jsx(i.registry.widgets.AltDateWidget,E({time:a},i))}function Be(e){var i,n=e.schema,o=e.uiSchema,s=e.options,l=e.id,d=e.value,u=e.disabled,c=e.readonly,m=e.label,p=e.hideLabel,h=e.autofocus,f=void 0!==h&&h,g=e.onBlur,v=e.onFocus,y=e.onChange,S=e.registry,b=a.getTemplate("DescriptionFieldTemplate",S,s),x=a.schemaRequiresTrueValue(n),C=t.useCallback((function(e){return y(e.target.checked)}),[y]),j=t.useCallback((function(e){return g(l,e.target.checked)}),[g,l]),F=t.useCallback((function(e){return v(l,e.target.checked)}),[v,l]),O=null!=(i=s.description)?i:n.description;return r.jsxs("div",{className:"checkbox "+(u||c?"disabled":""),children:[!p&&!!O&&r.jsx(b,{id:a.descriptionId(l),description:O,schema:n,uiSchema:o,registry:S}),r.jsxs("label",{children:[r.jsx("input",{type:"checkbox",id:l,name:l,checked:void 0!==d&&d,required:x,disabled:u||c,autoFocus:f,onChange:C,onBlur:j,onFocus:F,"aria-describedby":a.ariaDescribedByIds(l)}),a.labelValue(r.jsx("span",{children:m}),p)]})]})}function Ue(e){var i=e.id,n=e.disabled,o=e.options,s=o.inline,l=void 0!==s&&s,d=o.enumOptions,u=o.enumDisabled,c=o.emptyValue,m=e.value,p=e.autofocus,h=void 0!==p&&p,f=e.readonly,g=e.onChange,v=e.onBlur,y=e.onFocus,S=Array.isArray(m)?m:[m],b=t.useCallback((function(e){return v(i,a.enumOptionsValueForIndex(e.target.value,d,c))}),[v,i]),x=t.useCallback((function(e){return y(i,a.enumOptionsValueForIndex(e.target.value,d,c))}),[y,i]);return r.jsx("div",{className:"checkboxes",id:i,children:Array.isArray(d)&&d.map((function(e,t){var o=a.enumOptionsIsSelected(e.value,S),s=Array.isArray(u)&&-1!==u.indexOf(e.value),c=n||s||f?"disabled":"",m=r.jsxs("span",{children:[r.jsx("input",{type:"checkbox",id:a.optionId(i,t),name:i,checked:o,value:String(t),disabled:n||s||f,autoFocus:h&&0===t,onChange:function(e){g(e.target.checked?a.enumOptionsSelectValue(t,S,d):a.enumOptionsDeselectValue(t,S,d))},onBlur:b,onFocus:x,"aria-describedby":a.ariaDescribedByIds(i)}),r.jsx("span",{children:e.label})]});return l?r.jsx("label",{className:"checkbox-inline "+c,children:m},t):r.jsx("div",{className:"checkbox "+c,children:r.jsx("label",{children:m})},t)}))})}function _e(e){var t=e.disabled,i=e.readonly,n=a.getTemplate("BaseInputTemplate",e.registry,e.options);return r.jsx(n,E({type:"color"},e,{disabled:t||i}))}function Pe(e){var i=e.onChange,n=a.getTemplate("BaseInputTemplate",e.registry,e.options),o=t.useCallback((function(e){return i(e||void 0)}),[i]);return r.jsx(n,E({type:"date"},e,{onChange:o}))}function qe(e){var t=e.onChange,i=e.value,n=a.getTemplate("BaseInputTemplate",e.registry,e.options);return r.jsx(n,E({type:"datetime-local"},e,{value:a.utcToLocal(i),onChange:function(e){return t(a.localToUTC(e))}}))}function Re(e){var t=a.getTemplate("BaseInputTemplate",e.registry,e.options);return r.jsx(t,E({type:"email"},e))}function Le(e,r){return null===e?null:e.replace(";base64",";name="+encodeURIComponent(r)+";base64")}function Ve(e){var r=e.name,t=e.size,a=e.type;return new Promise((function(i,n){var o=new window.FileReader;o.onerror=n,o.onload=function(e){var n;"string"==typeof(null===(n=e.target)||void 0===n?void 0:n.result)?i({dataURL:Le(e.target.result,r),name:r,size:t,type:a}):i({dataURL:null,name:r,size:t,type:a})},o.readAsDataURL(e)}))}function Ke(e){var t=e.fileInfo,i=e.registry.translateString,n=t.dataURL,o=t.name;return n?-1!==t.type.indexOf("image")?r.jsx("img",{src:n,style:{maxWidth:"100%"},className:"file-preview"}):r.jsxs(r.Fragment,{children:[" ",r.jsx("a",{download:"preview-"+o,href:n,className:"file-download",children:i(a.TranslatableString.PreviewLabel)})]}):null}function Me(e){var t=e.filesInfo,i=e.registry,n=e.preview;if(0===t.length)return null;var o=i.translateString;return r.jsx("ul",{className:"file-info",children:t.map((function(e,t){return r.jsxs("li",{children:[r.jsx(D.default,{children:o(a.TranslatableString.FilesInfo,[e.name,e.type,String(e.size)])}),n&&r.jsx(Ke,{fileInfo:e,registry:i})]},t)}))})}function We(e){return e.filter((function(e){return e})).map((function(e){var r=a.dataURItoBlob(e),t=r.blob;return{dataURL:e,name:r.name,size:t.size,type:t.type}}))}function Ye(e){var i=e.disabled,n=e.readonly,o=e.required,s=e.multiple,l=e.onChange,d=e.value,u=e.options,c=e.registry,m=a.getTemplate("BaseInputTemplate",c,u),p=t.useState(Array.isArray(d)?We(d):We([d])),h=p[0],f=p[1],g=t.useCallback((function(e){var r;e.target.files&&(r=e.target.files,Promise.all(Array.from(r).map(Ve))).then((function(e){var r=e.map((function(e){return e.dataURL}));s?(f(h.concat(e[0])),l(d.concat(r[0]))):(f(e),l(r[0]))}))}),[s,d,h,l]);return r.jsxs("div",{children:[r.jsx(m,E({},e,{disabled:i||n,type:"file",required:!d&&o,onChangeOverride:g,value:"",accept:u.accept?String(u.accept):void 0})),r.jsx(Me,{filesInfo:h,registry:c,preview:u.filePreview})]})}function $e(e){var t=e.id,a=e.value;return r.jsx("input",{type:"hidden",id:t,name:t,value:void 0===a?"":a})}function ze(e){var t=a.getTemplate("BaseInputTemplate",e.registry,e.options);return r.jsx(t,E({type:"password"},e))}function Ge(e){var i=e.options,n=e.value,o=e.required,s=e.disabled,l=e.readonly,d=e.autofocus,u=void 0!==d&&d,c=e.onBlur,m=e.onFocus,p=e.onChange,h=e.id,f=i.enumOptions,g=i.enumDisabled,v=i.inline,y=i.emptyValue,S=t.useCallback((function(e){return c(h,a.enumOptionsValueForIndex(e.target.value,f,y))}),[c,h]),b=t.useCallback((function(e){return m(h,a.enumOptionsValueForIndex(e.target.value,f,y))}),[m,h]);return r.jsx("div",{className:"field-radio-group",id:h,children:Array.isArray(f)&&f.map((function(e,t){var i=a.enumOptionsIsSelected(e.value,n),d=Array.isArray(g)&&-1!==g.indexOf(e.value),c=s||d||l?"disabled":"",m=r.jsxs("span",{children:[r.jsx("input",{type:"radio",id:a.optionId(h,t),checked:i,name:h,required:o,value:String(t),disabled:s||d||l,autoFocus:u&&0===t,onChange:function(){return p(e.value)},onBlur:S,onFocus:b,"aria-describedby":a.ariaDescribedByIds(h)}),r.jsx("span",{children:e.label})]});return v?r.jsx("label",{className:"radio-inline "+c,children:m},t):r.jsx("div",{className:"radio "+c,children:r.jsx("label",{children:m})},t)}))})}function Je(e){var t=e.value;return r.jsxs("div",{className:"field-range-wrapper",children:[r.jsx(e.registry.templates.BaseInputTemplate,E({type:"range"},e)),r.jsx("span",{className:"range-view",children:t})]})}function He(e,r){return r?Array.from(e.target.options).slice().filter((function(e){return e.selected})).map((function(e){return e.value})):e.target.value}function Qe(e){var i=e.schema,n=e.id,o=e.options,s=e.value,l=e.required,d=e.disabled,u=e.readonly,c=e.multiple,m=void 0!==c&&c,p=e.autofocus,h=void 0!==p&&p,f=e.onChange,g=e.onBlur,v=e.onFocus,y=e.placeholder,S=o.enumOptions,b=o.enumDisabled,x=o.emptyValue,C=m?[]:"",j=t.useCallback((function(e){var r=He(e,m);return v(n,a.enumOptionsValueForIndex(r,S,x))}),[v,n,i,m,o]),F=t.useCallback((function(e){var r=He(e,m);return g(n,a.enumOptionsValueForIndex(r,S,x))}),[g,n,i,m,o]),O=t.useCallback((function(e){var r=He(e,m);return f(a.enumOptionsValueForIndex(r,S,x))}),[f,i,m,o]),D=a.enumOptionsIndexForValue(s,S,m);return r.jsxs("select",{id:n,name:n,multiple:m,className:"form-control",value:void 0===D?C:D,required:l,disabled:d||u,autoFocus:h,onBlur:F,onFocus:j,onChange:O,"aria-describedby":a.ariaDescribedByIds(n),children:[!m&&void 0===i.default&&r.jsx("option",{value:"",children:y}),Array.isArray(S)&&S.map((function(e,t){var a=e.label,i=b&&-1!==b.indexOf(e.value);return r.jsx("option",{value:String(t),disabled:i,children:a},t)}))]})}function Xe(e){var i=e.id,n=e.options,o=void 0===n?{}:n,s=e.placeholder,l=e.value,d=e.required,u=e.disabled,c=e.readonly,m=e.autofocus,p=void 0!==m&&m,h=e.onChange,f=e.onBlur,g=e.onFocus,v=t.useCallback((function(e){var r=e.target.value;return h(""===r?o.emptyValue:r)}),[h,o.emptyValue]),y=t.useCallback((function(e){return f(i,e.target.value)}),[f,i]),S=t.useCallback((function(e){return g(i,e.target.value)}),[i,g]);return r.jsx("textarea",{id:i,name:i,className:"form-control",value:l||"",placeholder:s,required:d,disabled:u,readOnly:c,autoFocus:p,rows:o.rows,onBlur:y,onFocus:S,onChange:v,"aria-describedby":a.ariaDescribedByIds(i)})}function Ze(e){var t=a.getTemplate("BaseInputTemplate",e.registry,e.options);return r.jsx(t,E({},e))}function er(e){var i=e.onChange,n=a.getTemplate("BaseInputTemplate",e.registry,e.options),o=t.useCallback((function(e){return i(e?e+":00":void 0)}),[i]);return r.jsx(n,E({type:"time"},e,{onChange:o}))}function rr(e){var t=a.getTemplate("BaseInputTemplate",e.registry,e.options);return r.jsx(t,E({type:"url"},e))}function tr(e){var t=a.getTemplate("BaseInputTemplate",e.registry,e.options);return r.jsx(t,E({type:"number"},e))}function ar(){return{fields:{AnyOfField:M,ArrayField:q,BooleanField:L,NumberField:$,ObjectField:z,OneOfField:M,SchemaField:Q,StringField:Z,NullField:ee},templates:{ArrayFieldDescriptionTemplate:re,ArrayFieldItemTemplate:te,ArrayFieldTemplate:ie,ArrayFieldTitleTemplate:ne,ButtonTemplates:{SubmitButton:le,AddButton:fe,CopyButton:ce,MoveDownButton:me,MoveUpButton:pe,RemoveButton:he},BaseInputTemplate:se,DescriptionFieldTemplate:ge,ErrorListTemplate:ve,FieldTemplate:be,FieldErrorTemplate:xe,FieldHelpTemplate:Ce,ObjectFieldTemplate:je,TitleFieldTemplate:Oe,UnsupportedFieldTemplate:De,WrapIfAdditionalTemplate:Te},widgets:{AltDateWidget:ke,AltDateTimeWidget:Ae,CheckboxWidget:Be,CheckboxesWidget:Ue,ColorWidget:_e,DateWidget:Pe,DateTimeWidget:qe,EmailWidget:Re,FileWidget:Ye,HiddenWidget:$e,PasswordWidget:ze,RadioWidget:Ge,RangeWidget:Je,SelectWidget:Qe,TextWidget:Ze,TextareaWidget:Xe,TimeWidget:er,UpDownWidget:tr,URLWidget:rr},rootSchema:{},formContext:{},translateString:a.englishStringTranslator}}Xe.defaultProps={autofocus:!1,options:{}};var ir=function(e){function i(r){var i;if((i=e.call(this,r)||this).formElement=void 0,i.getUsedFormData=function(e,r){if(0===r.length&&"object"!=typeof e)return e;var t=S.default(e,r);return Array.isArray(e)?Object.keys(t).map((function(e){return t[e]})):t},i.getFieldNames=function(e,r){return function e(t,i,n){return void 0===i&&(i=[]),void 0===n&&(n=[[]]),Object.keys(t).forEach((function(o){if("object"==typeof t[o]){var s=n.map((function(e){return[].concat(e,[o])}));t[o][a.RJSF_ADDITONAL_PROPERTIES_FLAG]&&""!==t[o][a.NAME_KEY]?i.push(t[o][a.NAME_KEY]):e(t[o],i,s)}else o===a.NAME_KEY&&""!==t[o]&&n.forEach((function(e){var t=v.default(r,e);("object"!=typeof t||y.default(t))&&i.push(e)}))})),i}(e)},i.onChange=function(e,r,t){var n=i.props,o=n.extraErrors,s=n.omitExtraData,l=n.liveOmit,d=n.noValidate,u=n.liveValidate,c=n.onChange,m=i.state,p=m.schemaUtils,h=m.schema;(a.isObject(e)||Array.isArray(e))&&(e=i.getStateFromProps(i.props,e).formData);var f=!d&&u,g={formData:e,schema:h},v=e;if(!0===s&&!0===l){var y=p.retrieveSchema(h,e),S=p.toPathSchema(y,"",e),b=i.getFieldNames(S,e);v=i.getUsedFormData(e,b),g={formData:v}}if(f){var x=i.validate(v),C=x.errors,j=x.errorSchema,F=C,O=j;if(o){var D=a.validationDataMerge(x,o);j=D.errorSchema,C=D.errors}g={formData:v,errors:C,errorSchema:j,schemaValidationErrors:F,schemaValidationErrorSchema:O}}else if(!d&&r){var T=o?a.mergeObjects(r,o,"preventDuplicates"):r;g={formData:v,errorSchema:T,errors:a.toErrorList(T)}}i.setState(g,(function(){return c&&c(E({},i.state,g),t)}))},i.reset=function(){var e=i.props.onChange,r={formData:i.getStateFromProps(i.props,void 0).formData,errorSchema:{},errors:[],schemaValidationErrors:[],schemaValidationErrorSchema:{}};i.setState(r,(function(){return e&&e(E({},i.state,r))}))},i.onBlur=function(e,r){var t=i.props.onBlur;t&&t(e,r)},i.onFocus=function(e,r){var t=i.props.onFocus;t&&t(e,r)},i.onSubmit=function(e){if(e.preventDefault(),e.target===e.currentTarget){e.persist();var r=i.props,t=r.extraErrors,n=r.noValidate,o=r.onSubmit,s=i.state.formData,l=i.state,d=l.schemaUtils;if(!0===r.omitExtraData){var u=d.retrieveSchema(l.schema,s),c=d.toPathSchema(u,"",s),m=i.getFieldNames(c,s);s=i.getUsedFormData(s,m)}if(n||i.validateForm()){var p=t||{},h=t?a.toErrorList(t):[];i.setState({formData:s,errors:h,errorSchema:p,schemaValidationErrors:[],schemaValidationErrorSchema:{}},(function(){o&&o(E({},i.state,{formData:s,status:"submitted"}),e)}))}}},!r.validator)throw new Error("A validator is required for Form functionality to work");return i.state=i.getStateFromProps(r,r.formData),i.props.onChange&&!a.deepEquals(i.state.formData,i.props.formData)&&i.props.onChange(i.state),i.formElement=t.createRef(),i}I(i,e);var n=i.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){var r=this.getStateFromProps(e,e.formData);a.deepEquals(r.formData,e.formData)||a.deepEquals(r.formData,this.state.formData)||!e.onChange||e.onChange(r),this.setState(r)},n.getStateFromProps=function(e,r){var t=this.state||{},i="schema"in e?e.schema:this.props.schema,n=("uiSchema"in e?e.uiSchema:this.props.uiSchema)||{},o=void 0!==r,s=o&&!e.noValidate&&("liveValidate"in e?e.liveValidate:this.props.liveValidate),l=i,d="experimental_defaultFormStateBehavior"in e?e.experimental_defaultFormStateBehavior:this.props.experimental_defaultFormStateBehavior,u=t.schemaUtils;u&&!u.doesSchemaUtilsDiffer(e.validator,l,d)||(u=a.createSchemaUtils(e.validator,l,d));var c,m,p=u.getDefaultFormState(i,r),h=u.retrieveSchema(i,p),f=t.schemaValidationErrors,g=t.schemaValidationErrorSchema;if(s){var v=this.validate(p,i,u);f=c=v.errors,g=m=v.errorSchema}else{var y=e.noValidate?{errors:[],errorSchema:{}}:e.liveValidate?{errors:t.errors||[],errorSchema:t.errorSchema||{}}:{errors:t.schemaValidationErrors||[],errorSchema:t.schemaValidationErrorSchema||{}};c=y.errors,m=y.errorSchema}if(e.extraErrors){var S=a.validationDataMerge({errorSchema:m,errors:c},e.extraErrors);m=S.errorSchema,c=S.errors}var b=u.toIdSchema(h,n["ui:rootFieldId"],p,e.idPrefix,e.idSeparator);return{schemaUtils:u,schema:i,uiSchema:n,idSchema:b,formData:p,edit:o,errors:c,errorSchema:m,schemaValidationErrors:f,schemaValidationErrorSchema:g}},n.shouldComponentUpdate=function(e,r){return a.shouldRender(this,e,r)},n.validate=function(e,r,t){void 0===r&&(r=this.props.schema);var a=t||this.state.schemaUtils,i=this.props,n=i.customValidate,o=i.transformErrors,s=i.uiSchema,l=a.retrieveSchema(r,e);return a.getValidator().validateFormData(e,l,n,o,s)},n.renderErrors=function(e){var t=this.state,i=t.errors,n=t.errorSchema,o=t.schema,s=t.uiSchema,l=this.props.formContext,d=a.getUiOptions(s),u=a.getTemplate("ErrorListTemplate",e,d);return i&&i.length?r.jsx(u,{errors:i,errorSchema:n||{},schema:o,uiSchema:s,formContext:l,registry:e}):null},n.getRegistry=function(){var e,r=this.props,t=r.translateString,i=r.uiSchema,n=void 0===i?{}:i,o=this.state.schemaUtils,s=ar(),l=s.templates,d=s.widgets,u=s.formContext,c=s.translateString;return{fields:E({},s.fields,this.props.fields),templates:E({},l,this.props.templates,{ButtonTemplates:E({},l.ButtonTemplates,null===(e=this.props.templates)||void 0===e?void 0:e.ButtonTemplates)}),widgets:E({},d,this.props.widgets),rootSchema:this.props.schema,formContext:this.props.formContext||u,schemaUtils:o,translateString:t||c,globalUiOptions:n[a.UI_GLOBAL_OPTIONS_KEY]}},n.submit=function(){this.formElement.current&&(this.formElement.current.dispatchEvent(new CustomEvent("submit",{cancelable:!0})),this.formElement.current.requestSubmit())},n.focusOnError=function(e){var r=this.props,t=r.idPrefix,a=void 0===t?"root":t,i=r.idSeparator,n=void 0===i?"_":i,o=b.default(e.property);""===o[0]?o[0]=a:o.unshift(a);var s=o.join(n),l=this.formElement.current.elements[s];l||(l=this.formElement.current.querySelector("input[id^="+s)),l&&l.length&&(l=l[0]),l&&l.focus()},n.validateForm=function(){var e=this.props,r=e.extraErrors,t=e.focusOnFirstError,i=e.onError,n=this.validate(this.state.formData),o=n.errors,s=n.errorSchema,l=o,d=s;if(o.length>0){if(r){var u=a.validationDataMerge(n,r);s=u.errorSchema,o=u.errors}return t&&("function"==typeof t?t(n.errors[0]):this.focusOnError(n.errors[0])),this.setState({errors:o,errorSchema:s,schemaValidationErrors:l,schemaValidationErrorSchema:d},(function(){i?i(o):console.error("Form validation failed",o)})),!1}return!0},n.render=function(){var e,t,i=this.props,n=i.children,o=i.id,s=i.idPrefix,l=i.idSeparator,d=i.className,u=void 0===d?"":d,c=i.tagName,m=i.name,p=i.method,h=i.target,f=i.action,g=i.autoComplete,v=i.enctype,y=i.acceptcharset,S=i.noHtml5Validate,b=void 0!==S&&S,x=i.disabled,C=void 0!==x&&x,j=i.readonly,F=void 0!==j&&j,O=i.formContext,D=i.showErrorList,T=void 0===D?"top":D,I=i._internalFormWrapper,N=this.state,k=N.schema,w=N.uiSchema,A=N.formData,B=N.errorSchema,U=N.idSchema,_=this.getRegistry(),P=_.fields.SchemaField,q=_.templates.ButtonTemplates.SubmitButton,R=I?c:void 0,L=I||c||"form",V=a.getUiOptions(w)[a.SUBMIT_BTN_OPTIONS_KEY],K=void 0===V?{}:V;C&&(K=E({},K,{props:E({},K.props,{disabled:!0})}));var M=((t={})[a.UI_OPTIONS_KEY]=((e={})[a.SUBMIT_BTN_OPTIONS_KEY]=K,e),t);return r.jsxs(L,{className:u||"rjsf",id:o,name:m,method:p,target:h,action:f,autoComplete:g,encType:v,acceptCharset:y,noValidate:b,onSubmit:this.onSubmit,as:R,ref:this.formElement,children:["top"===T&&this.renderErrors(_),r.jsx(P,{name:"",schema:k,uiSchema:w,errorSchema:B,idSchema:U,idPrefix:s,idSeparator:l,formContext:O,formData:A,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:_,disabled:C,readonly:F}),n||r.jsx(q,{uiSchema:M,registry:_}),"bottom"===T&&this.renderErrors(_)]})},i}(t.Component),nr=["fields","widgets","templates"];e.default=ir,e.getDefaultRegistry=ar,e.withTheme=function(e){return t.forwardRef((function(t,a){var i,n,o=t.fields,s=t.widgets,l=t.templates,d=k(t,nr);return o=E({},null==e?void 0:e.fields,o),s=E({},null==e?void 0:e.widgets,s),l=E({},null==e?void 0:e.templates,l,{ButtonTemplates:E({},null==e||null===(i=e.templates)||void 0===i?void 0:i.ButtonTemplates,null===(n=l)||void 0===n?void 0:n.ButtonTemplates)}),r.jsx(ir,E({},e,d,{fields:o,widgets:s,templates:l,ref:a}))}))},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=core.umd.production.min.js.map
